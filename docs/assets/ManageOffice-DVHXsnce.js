import{H as I}from"./Header-BaEzJSrp.js";import{r as s,g as _,c as y,b as D,a as n,i as v,v as C,n as N,j as g,F as T,k as w,l as V,w as b,u as E,d as A,o as r,f as h,m as U}from"./index-D8_Tfgvr.js";import{u as z}from"./store-B8I-AlLl.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";const x={emailTest(t){return t?/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(t):!1},textTest(t){return t?t.replace(/[^a-zA-Z ]/g,""):""},numberTest(t){return t?t.replace(/[^0-9 ]/g,""):""},formatCellNumber(t){return t.replace(/\D/g,"").replace(/(\d{3})(\d{3})(\d{4})/,"$1 $2 $3")}},M={name:"ManageOffice",components:{Header:I},setup(){const t=s(""),e=s(""),d=s(""),a=s(null),c=s(""),u=s(""),i=s(""),m=s([{color:"yellow",id:"99"},{color:"peach",id:"98"},{color:"orange",id:"97"},{color:"brown",id:"96"},{color:"lavander",id:"95"},{color:"pink",id:"94"},{color:"mint",id:"93"},{color:"green",id:"92"},{color:"lightBlue",id:"91"},{color:"blue",id:"90"},{color:"purple",id:"89"}]),o=s(),p=z(),f=E(),O=U(),k=s(f.name);return _(()=>{k.value=="office-edit"&&(o.value=p.state.OfficeData.find(l=>l.key===f.params.slug),o.value=o.value.BasicCompanyInfo,t.value=o.value.officeName,e.value=o.value.address,d.value=o.value.email,c.value=o.value.tel,u.value=o.value.officeCapacity,i.value=o.value.color)}),{officeName:t,physicalAddress:e,emailAddress:d,phoneNumber:c,maximumCapacity:u,nameValidation:()=>{t.value=x.textTest(t.value)},numberValidation:()=>{u.value=x.numberTest(u.value)},phoneValidation:()=>{c.value=x.formatCellNumber(c.value)},emailValidation:()=>{a.value=x.emailTest(d.value)},emailAddressError:a,colors:m,toggleColorSelection:l=>{(i==null?void 0:i.value)===l?i.value=null:i.value=l},selectedColor:i,route:f,heading:k,updateOffice:()=>{const l=p.state.OfficeData.find(B=>B.key===f.params.slug);l&&(l.BasicCompanyInfo.officeName=t.value,l.BasicCompanyInfo.officeCapacity=u.value,l.BasicCompanyInfo.email=d.value,l.BasicCompanyInfo.color=i.value,l.BasicCompanyInfo.address=e.value,l.BasicCompanyInfo.tel=c.value),O.push("/")},deleteOffice:()=>{p.state.OfficeData=p.state.OfficeData.filter(l=>l.key!==f.params.slug),O.push("/")}}}},S={class:"formContainer"},Z={class:"inputContainer"},F={class:"inputContainer"},K={key:0},P={class:"inputContainer"},R={class:"inputContainer"},j={class:"colorGrid"},G={class:"color"},L=["id","checked","onChange"],q=["for"];function J(t,e,d,a,c,u){const i=A("Header"),m=A("Button");return r(),y("section",null,[D(i,{heading:a.heading=="office-edit"?"Edit Office":"New Office"},null,8,["heading"]),n("div",S,[n("form",null,[n("div",Z,[v(n("input",{"onUpdate:modelValue":e[0]||(e[0]=o=>a.officeName=o),onKeyup:e[1]||(e[1]=o=>a.nameValidation()),class:"input",type:"text",placeholder:"Office Name"},null,544),[[C,a.officeName]])]),n("div",F,[v(n("input",{"onUpdate:modelValue":e[2]||(e[2]=o=>a.physicalAddress=o),class:"input",type:"text",placeholder:"Physical Address"},null,512),[[C,a.physicalAddress]])]),n("div",{class:N(["inputContainer",a.emailAddressError?"error":""])},[v(n("input",{"onUpdate:modelValue":e[3]||(e[3]=o=>a.emailAddress=o),onBlur:e[4]||(e[4]=o=>a.emailValidation()),class:"input",type:"text",placeholder:"Email Address"},null,544),[[C,a.emailAddress]]),a.emailAddressError?(r(),y("span",K,"Email address is not valid")):g("",!0)],2),n("div",P,[v(n("input",{"onUpdate:modelValue":e[5]||(e[5]=o=>a.phoneNumber=o),onBlur:e[6]||(e[6]=o=>a.phoneValidation()),class:"input",type:"text",placeholder:"Phone Number"},null,544),[[C,a.phoneNumber]])]),n("div",R,[v(n("input",{"onUpdate:modelValue":e[7]||(e[7]=o=>a.maximumCapacity=o),onKeyup:e[8]||(e[8]=o=>a.numberValidation()),class:"input",type:"text",placeholder:"Maximum Capacity"},null,544),[[C,a.maximumCapacity]])]),n("div",j,[e[11]||(e[11]=n("h2",null,"Office Colour",-1)),(r(!0),y(T,null,w(a.colors,(o,p)=>(r(),y("div",G,[n("input",{id:o.id,type:"checkbox",checked:a.selectedColor===o.color,onChange:f=>a.toggleColorSelection(o.color),hidden:""},null,40,L),n("label",{for:o.id,class:N([o.color,a.selectedColor===o.color?"selected":""])},null,10,q)]))),256))])]),a.heading=="office-edit"?(r(),V(m,{key:0,class:"button",onClick:e[9]||(e[9]=o=>a.updateOffice())},{default:b(()=>e[12]||(e[12]=[h("Update office")])),_:1})):g("",!0),a.heading=="office-edit"?(r(),V(m,{key:1,class:"button white",onClick:e[10]||(e[10]=o=>a.deleteOffice())},{default:b(()=>e[13]||(e[13]=[h("Delete Office")])),_:1})):g("",!0),a.heading=="office-add"?(r(),V(m,{key:2,class:"button"},{default:b(()=>e[14]||(e[14]=[h("Add Office")])),_:1})):g("",!0)])])}const ie=H(M,[["render",J],["__scopeId","data-v-3332fd76"]]);export{ie as default};
